using div, card;

Definition.  Let a, b : â„¤.  a and b are relatively prime if for all c : â„¤ with c > 0, if c | a and c | b then c = 1.

Lemma.  Let a, b : â„¤.  a and b are relatively prime if and only if the gcd of a and b is 1.

Proof.  Suppose that a and b are relatively prime.  1 | a and 1 | b.  Let c : â„¤.  Suppose that c | a and c | b.  By [trichotomy on â„¤] either c > 0 or c = 0 or c < 0.  If c > 0 then c = 1, so c | 1.  If c = 0 then a = 0 since c | a, but then 1 | 0, which is a contradiction.  If c < 0 then âˆ’c > 0 and âˆ’c | a and âˆ’c | b, so âˆ’c = 1, so c = âˆ’1, so c | 1.  Therefore c | 1.  So the gcd of a and b is 1.

Now suppose that the gcd of a and b is 1.  Let c : â„¤.  Suppose that c > 0 and c | a and c | b.  Then c | 1, so by [divisor of 1] c = 1.  So a and b are relatively prime.

Lemma.  Let a, b : â„¤.  Suppose that a and b are relatively prime.  Then a â‰  0 or b â‰  0.

Lemma.  Let a, b : â„¤.  a and b are relatively prime if and only if 1 = xa + yb for some x, y : â„¤.  [relatively prime iff linear combination is 1]

Proof.  Suppose that a and b are relatively prime.  Then the gcd of a and b is 1. Also a â‰  0 or b â‰  0.  Hence by [BÃ©zout] 1 = xa + yb for some x, y : â„¤.

Now suppose that 1 = xa + yb for some x, y : â„¤.  Let c : â„¤, and suppose that c > 0 and c | a and c | b.  By [divides linear combination] c | xa + yb, so c | 1.  Then by [divisor of 1] c = 1.  So a and b are relatively prime.

Definition.  Let a : â„¤.  a is prime if and only if a > 1 and for all c : â„¤, if c > 0 and c | a then c = a or c = 1.  a is composite if and only if a is not prime.

Theorem.  2 is prime.

Proof.  Let c : â„¤, and suppose that c > 0 and c | 2.  Then by [divides implies â‰¤] c â‰¤ 2.  By [small integers] c = 0 or c = 1 or c = 2 or c > 2, however c â‰  0 and c â‰¯ 2, so c = 1 or c = 2.

Theorem.  Let a : â„¤ with a > 1.  Then there is some p : â„¤ such that p is prime and p | a.

Proof.  Let A = { a : â„¤ | a > 1 and there is no p : â„¤ such that p is prime and p | a }.  Assume that A is not empty.  Suppose that x âˆˆ A.  Then x > 1 : â„¤ > 0, so by [< is transitive on â„¤] x > 0.  So A âŠ† ð’².

By [least number principle on â„¤] there is some b : â„¤ such that b is a least element of A.  Then b > 1 and there is no p : â„¤ such that p is prime and p | b.

Suppose that b is prime.  But b | b, which is a contradiction.

Now suppose that b is not prime.  Then there is some c : â„¤ such that c > 0 and c | b and c â‰  b and c â‰  1.  If c < 1 then 0 < c < 0 + 1, which is a contradiction to [â„¤ is discrete], so we must have c > 1.  Since c | b, it follows by [divides implies â‰¤] that c < b.  Hence c âˆ‰ A, so there exists some d : â„¤ such that d | c and d is prime.  Then d | b, so b âˆ‰ A, which is a contradiction.

In any case we have a contradiction.  So A is empty.

Theorem.  Let p, a, b : â„¤.  Suppose that p is prime and p | ab.  Then p | a or p | b.

Proof.  Suppose that p âˆ¤ a.  We must show that p | b.  Let c : â„¤ with c > 0, and suppose that c | p and c | a.  Since p is prime, c = p or c = 1.  If c = p then p | a, which is a contradiction.  So c = 1.  Consequently p and a are relatively prime. Hence by [relatively prime iff linear combination is 1] 1 = xp + ya for some x, y : â„¤. Therefore 1 Â· b = (xp + ya) Â· b, so b = xbp + yab.  We know that p | ab, so p | (xb)p + y(ab), so p | b.
